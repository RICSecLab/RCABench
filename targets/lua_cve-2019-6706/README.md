# lua/CVE-2019-6706

## description

If same LClosures is passed to debug.upvaluejoin(), use-after-free is occurred because the first value is released before the second value is used.  

## references

https://github.com/Lua-Project/cve-analysis/blob/a43c9ccd00274b31fa2f24c6c8f20ce36655682d/CVE-2019-6706.pdf

## patch commit

https://github.com/lua/lua/commit/89aee84cbc9224f638f3b7951b306d2ee8ecb71e

## fixed files

https://github.com/lua/lua/commit/89aee84cbc9224f638f3b7951b306d2ee8ecb71e#diff-abed611bccc89e991b06afa16038270b9c26b5f2a93168c1312d7502761f433fL1289-R1291

## Source of PoC

https://github.com/Lua-Project/cve-analysis/blob/a43c9ccd00274b31fa2f24c6c8f20ce36655682d/CVE-2019-6706.pdf
